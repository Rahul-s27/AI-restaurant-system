/index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FINE-DINE CAFE - Restaurant Recommendation System</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #000000 0%, #1a1a1a 100%);
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(26, 35, 126, 0.2);
        }
        .rating-star {
            color: #4FC3F7;
        }
        .custom-shadow {
            box-shadow: 0 4px 15px rgba(26, 35, 126, 0.1);
        }
    </style>
</head>
<body class="bg-gray-900 font-sans">
    <!-- Header -->
    <header class="gradient-bg text-white shadow-lg">
        <div class="container mx-auto py-6 px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <h1 class="text-3xl font-bold text-white"><i class="fas fa-utensils mr-2"></i>FINE-DINE CAFE</h1>
                    <p class="text-sm text-white opacity-80">Discover your next favorite dining spot</p>
                </div>
                <nav class="flex space-x-6">
                    <a href="#predict" class="hover:text-blue-200 transition">
                        <i class="fas fa-chart-line mr-1"></i> Predict Rating
                    </a>
                    <a href="#recommend" class="hover:text-blue-200 transition">
                        <i class="fas fa-search mr-1"></i> Find Restaurants
                    </a>
                    <a href="#cuisine-search" class="hover:text-blue-200 transition">
                        <i class="fas fa-pizza-slice mr-1"></i> Search by Cuisine
                    </a>
                </nav>
            </div>
        </div>
    </header>

<!-- Hero Section -->
<section class="py-12 px-4 bg-gray-870"> <!-- Changed from bg-gray-300 to bg-blue-100 -->
    <div class="container mx-auto max-w-6xl">
      <div class="flex flex-col md:flex-row items-center">
        <div class="md:w-1/2 mb-8 md:mb-0">
          <h2 class="text-4xl font-bold text-white mb-4">Find Your Perfect Dining Experience</h2> <!-- Changed text color -->
          <p class="text-white mb-6 text-lg"> <!-- Changed text color -->
            Our intelligent restaurant recommendation system helps you discover new places based on your preferences and provides accurate rating predictions.
          </p>
          <div class="flex flex-wrap gap-3">
            <a href="#predict" class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition shadow-lg hover:shadow-xl"> <!-- Updated button styling -->
              <i class="fas fa-chart-line mr-2"></i>Predict Restaurant Rating
            </a>
            <a href="#recommend" class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-lg transition shadow-lg hover:shadow-xl"> <!-- Updated button styling -->
              <i class="fas fa-search mr-2"></i>Get Restaurant Recommendations
            </a>
          </div>
        </div>
        <div class="md:w-1/2 flex justify-center">
          <img src="C:\Users\Bhumika\OneDrive\Music\logo.jpg" 
               alt="Restaurant illustration" 
               class="rounded-lg shadow-xl transform hover:scale-105 transition duration-300 border-4 border-blue-200"> <!-- Enhanced image styling -->
        </div>
      </div>
    </div>
  </section>

  <!-- Rating Prediction Section -->
  <section id="predict" class="py-16 px-4 bg-gray-840">
    <div class="container mx-auto max-w-6xl">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-white">Predict Restaurant Rating</h2>
        <p class="text-white mt-2">Our AI model predicts restaurant ratings based on key features</p>
      </div>

      <div class="bg-gray-400 rounded-lg shadow-lg p-6 md:p-8 max-w-2xl mx-auto">
        <form id="prediction-form" class="space-y-5">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label class="block text-black mb-2" for="cost">Average Cost for Two</label>
              <input type="number" id="cost" name="cost" min="0" class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500" required>
            </div>
            <div>
              <label class="block text-black mb-2" for="price_range">Price Range</label>
              <select id="price_range" name="price_range" class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500" required>
                <option value="">Select Price Range</option>
                <option value="1">Budget (₹)</option>
                <option value="2">Mid-range (₹₹)</option>
                <option value="3">High-end (₹₹₹)</option>
                <option value="4">Premium (₹₹₹₹)</option>
              </select>
            </div>
            <div>
              <label class="block text-black mb-2" for="table_booking">Table Booking Available</label>
              <select id="table_booking" name="table_booking" class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500" required>
                <option value="">Select Option</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
              </select>
            </div>
            <div>
              <label class="block text-black mb-2" for="online_delivery">Online Delivery Available</label>
              <select id="online_delivery" name="online_delivery" class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500" required>
                <option value="">Select Option</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
              </select>
            </div>
          </div>
          <button type="submit" class="w-full bg-orange-500 hover:bg-orange-600 text-white font-medium py-3 px-4 rounded-md transition">
            <i class="fas fa-calculator mr-2"></i>Predict Rating
          </button>
        </form>

        <div id="prediction-result" class="mt-8 hidden">
          <h3 class="text-xl font-bold text-gray-800 mb-3">Prediction Result</h3>
          <div class="bg-gray-400 p-4 rounded-lg">
            <div class="mb-4 text-center">
              <span class="text-4xl font-bold text-orange-500" id="rating-value">0.0</span>
              <div class="flex justify-center mt-2" id="rating-stars">
                <!-- Stars will be added by JS -->
              </div>
            </div>
            <div class="grid grid-cols-2 gap-4 mt-4 text-sm">
              <div>
                <p class="text-gray-600">Cost for Two:</p>
                <p class="font-medium" id="result-cost"></p>
              </div>
              <div>
                <p class="text-gray-600">Price Range:</p>
                <p class="font-medium" id="result-price-range"></p>
              </div>
              <div>
                <p class="text-gray-600">Table Booking:</p>
                <p class="font-medium" id="result-table-booking"></p>
              </div>
              <div>
                <p class="text-gray-600">Online Delivery:</p>
                <p class="font-medium" id="result-online-delivery"></p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Restaurant Recommendation Section -->
  <section id="recommend" class="py-16 px-4 bg-gray-820">
    <div class="container mx-auto max-w-6xl">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-white">Restaurant Recommendations</h2>
        <p class="text-white mt-2">Find similar restaurants based on your favorites</p>
      </div>

      <div class="bg-gray-400 rounded-lg shadow-lg p-6 md:p-8 max-w-2xl mx-auto">
        <form id="recommendation-form" class="mb-8">
          <label class="block text-black mb-2" for="restaurant_name">Enter Restaurant Name</label>
          <div class="flex">
            <input type="text" id="restaurant_name" name="restaurant_name" class="flex-grow px-4 py-2 border rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
            <button type="submit" class="bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-r-md transition">
              <i class="fas fa-search mr-1"></i> Find
            </button>
          </div>
        </form>

        <div id="restaurant-info" class="hidden mb-8">
          <h3 class="text-xl font-bold text-gray-800 mb-3">Selected Restaurant</h3>
          <div class="bg-white rounded-lg shadow-sm p-4">
            <h4 class="text-lg font-bold text-blue-600" id="info-name"></h4>
            <div class="flex items-center mt-1 mb-2">
              <div id="info-rating-stars" class="flex mr-2">
                <!-- Stars will be added by JS -->
              </div>
              <span class="text-sm text-gray-600" id="info-rating"></span>
            </div>
            <p class="text-sm text-gray-700 mb-1">
              <span class="font-medium">Cuisines:</span> <span id="info-cuisines"></span>
            </p>
            <p class="text-sm text-gray-700 mb-1">
              <span class="font-medium">Cost for Two:</span> <span id="info-cost"></span>
            </p>
            <p class="text-sm text-gray-700">
              <span class="font-medium">Location:</span> <span id="info-location"></span>
            </p>
          </div>
        </div>

        <div id="recommendation-results" class="hidden">
          <h3 class="text-xl font-bold text-gray-800 mb-3">Similar Restaurants</h3>
          <div id="recommendations-container" class="space-y-4">
            <!-- Recommendations will be added here by JS -->
          </div>
        </div>

        <div id="recommendation-error" class="hidden mt-4 text-red-500">
          <!-- Error message will be added here by JS -->
        </div>
      </div>
    </div>
  </section>

  <!-- Cuisine Search Section -->
  <section id="cuisine-search" class="py-16 px-4 bg-gray-770">
    <div class="container mx-auto max-w-6xl">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-white">Search by Cuisine</h2>
        <p class="text-white mt-2">Find restaurants serving your favorite cuisine</p>
      </div>

      <div class="bg-gray-400 rounded-lg shadow-lg p-6 md:p-8 max-w-2xl mx-auto">
        <form id="cuisine-search-form" class="mb-8">
          <label class="block text-black mb-2" for="cuisine">Enter Cuisine</label>
          <div class="flex">
            <input type="text" id="cuisine" name="cuisine" placeholder="Italian, Chinese, Indian..." class="flex-grow px-4 py-2 border rounded-l-md focus:outline-none focus:ring-2 focus:ring-green-500" required>
            <button type="submit" class="bg-green-500 hover:bg-green-600 text-white font-medium py-2 px-4 rounded-r-md transition">
              <i class="fas fa-utensils mr-1"></i> Search
            </button>
          </div>
        </form>

        <div id="cuisine-results" class="hidden">
          <h3 class="text-xl font-bold text-gray-800 mb-3">Top Restaurants for <span id="cuisine-type"></span></h3>
          <div id="cuisine-results-container" class="space-y-4">
            <!-- Cuisine results will be added here by JS -->
          </div>
        </div>

        <div id="cuisine-error" class="hidden mt-4 text-red-500">
          <!-- Error message will be added here by JS -->
        </div>
      </div>
    </div>
  </section>

  <!-- Data Visualization Section -->
  <section class="py-16 px-4 bg-gray-740">
    <div class="container mx-auto max-w-6xl">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-white">Restaurant Insights</h2>
        <p class="text-white mt-2">Visualizing key patterns in our restaurant database</p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <!-- Rating Distribution Chart -->
        <div class="bg-white rounded-lg shadow-lg p-4 md:p-6">
          <h3 class="text-lg font-bold text-gray-800 mb-4">Rating Distribution</h3>
          <div class="h-64">
            <canvas id="ratingChart"></canvas>
          </div>
        </div>

        <!-- Price Range Impact Chart -->
        <div class="bg-white rounded-lg shadow-lg p-4 md:p-6">
          <h3 class="text-lg font-bold text-gray-800 mb-4">Price Range vs Average Rating</h3>
          <div class="h-64">
            <canvas id="priceRangeChart"></canvas>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-gray-710 text-white py-8 px-4">
    <div class="container mx-auto max-w-6xl">
      <div class="flex flex-col md:flex-row justify-between items-center">
        <div class="mb-4 md:mb-0">
          <h3 class="text-xl font-bold">FINE-DINE CAFE</h3>
          <p class="text-sm text-white">Intelligent Restaurant Recommendations</p>
        </div>
        <div class="text-sm text-gray-400">
          © 2025 FINE-DINE CAFE. All rights reserved.
        </div>
      </div>
    </div>
    
  </footer>

  <script>
    // Simulated data for visualizations
    const ratingData = {
      labels: ['1.0-1.9', '2.0-2.9', '3.0-3.9', '4.0-4.9', '5.0'],
      data: [5, 15, 35, 40, 5]
    };

    const priceRangeData = {
      labels: ['Budget', 'Mid-range', 'High-end', 'Premium'],
      data: [3.2, 3.7, 4.1, 4.4]
    };

    // Initialize charts
    document.addEventListener('DOMContentLoaded', function() {
      // Rating Distribution Chart
      new Chart(document.getElementById('ratingChart'), {
        type: 'bar',
        data: {
          labels: ratingData.labels,
          datasets: [{
            label: 'Number of Restaurants',
            data: ratingData.data,
            backgroundColor: [
              'rgba(255, 99, 132, 0.6)',
              'rgba(255, 159, 64, 0.6)',
              'rgba(255, 205, 86, 0.6)',
              'rgba(75, 192, 192, 0.6)',
              'rgba(54, 162, 235, 0.6)'
            ],
            borderColor: [
              'rgb(255, 99, 132)',
              'rgb(255, 159, 64)',
              'rgb(255, 205, 86)',
              'rgb(75, 192, 192)',
              'rgb(54, 162, 235)'
            ],
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            y: {
              beginAtZero: true,
              title: {
                display: true,
                text: 'Number of Restaurants'
              }
            },
            x: {
              title: {
                display: true,
                text: 'Rating Range'
              }
            }
          }
        }
      });

      // Price Range Chart
      new Chart(document.getElementById('priceRangeChart'), {
        type: 'bar',
        data: {
          labels: priceRangeData.labels,
          datasets: [{
            label: 'Average Rating',
            data: priceRangeData.data,
            backgroundColor: 'rgba(75, 192, 192, 0.6)',
            borderColor: 'rgb(75, 192, 192)',
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            y: {
              beginAtZero: true,
              max: 5,
              title: {
                display: true,
                text: 'Average Rating'
              }
            },
            x: {
              title: {
                display: true,
                text: 'Price Range'
              }
            }
          }
        }
      });
    });

    // Rating Prediction Form Handler
    document.getElementById('prediction-form').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const formData = new FormData(this);
      
      fetch('/predict_rating', {
        method: 'POST',
        body: formData
      })
      .then(response => response.json())
      .then(data => {
        if (data.success) {
          // Show the prediction result section
          document.getElementById('prediction-result').classList.remove('hidden');
          
          // Update the rating value
          const ratingElement = document.getElementById('rating-value');
          const rating = parseFloat(data.prediction);
          ratingElement.textContent = rating.toFixed(1);
          
          // Update stars
          const starsContainer = document.getElementById('rating-stars');
          starsContainer.innerHTML = '';
          
          const fullStars = Math.floor(rating);
          const halfStar = rating % 1 >= 0.5;
          
          for (let i = 0; i < fullStars; i++) {
            const star = document.createElement('i');
            star.classList.add('fas', 'fa-star', 'rating-star', 'mx-1');
            starsContainer.appendChild(star);
          }
          
          if (halfStar) {
            const halfStarElement = document.createElement('i');
            halfStarElement.classList.add('fas', 'fa-star-half-alt', 'rating-star', 'mx-1');
            starsContainer.appendChild(halfStarElement);
          }
          
          // Fill in empty stars
          const emptyStars = 5 - fullStars - (halfStar ? 1 : 0);
          for (let i = 0; i < emptyStars; i++) {
            const emptyStar = document.createElement('i');
            emptyStar.classList.add('far', 'fa-star', 'rating-star', 'mx-1');
            starsContainer.appendChild(emptyStar);
          }
          
          // Update the result details
          document.getElementById('result-cost').textContent = data.features.cost;
          document.getElementById('result-price-range').textContent = ['', 'Budget', 'Mid-range', 'High-end', 'Premium'][data.features.price_range];
          document.getElementById('result-table-booking').textContent = data.features.table_booking;
          document.getElementById('result-online-delivery').textContent = data.features.online_delivery;
        } else {
          alert('Error: ' + data.error);
        }
      })
      .catch(error => {
        alert('An error occurred. Please try again.');
        console.error('Error:', error);
      });
    });

    // Restaurant Recommendation Form Handler
    document.getElementById('recommendation-form').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const formData = new FormData(this);
      
      fetch('/recommend', {
        method: 'POST',
        body: formData
      })
      .then(response => response.json())
      .then(data => {
        if (data.success) {
          // Show restaurant info
          const infoSection = document.getElementById('restaurant-info');
          infoSection.classList.remove('hidden');
          
          // Fill restaurant info
          document.getElementById('info-name').textContent = data.selected_restaurant.name;
          document.getElementById('info-cuisines').textContent = data.selected_restaurant.cuisines;
          document.getElementById('info-cost').textContent = data.selected_restaurant.cost;
          document.getElementById('info-location').textContent = data.selected_restaurant.location;
          document.getElementById('info-rating').textContent = data.selected_restaurant.rating + '/5';
          
          // Create rating stars
          const starsContainer = document.getElementById('info-rating-stars');
          starsContainer.innerHTML = '';
          const rating = parseFloat(data.selected_restaurant.rating);
          
          for (let i = 1; i <= 5; i++) {
            const star = document.createElement('i');
            if (i <= rating) {
              star.classList.add('fas', 'fa-star', 'rating-star');
            } else if (i - 0.5 <= rating) {
              star.classList.add('fas', 'fa-star-half-alt', 'rating-star');
            } else {
              star.classList.add('far', 'fa-star', 'rating-star');
            }
            starsContainer.appendChild(star);
          }
          
          // Show recommendations section
          const resultsSection = document.getElementById('recommendation-results');
          resultsSection.classList.remove('hidden');
          
          // Hide any previous error
          document.getElementById('recommendation-error').classList.add('hidden');
          
          // Fill recommendations
          const container = document.getElementById('recommendations-container');
          container.innerHTML = '';
          
          data.recommendations.forEach(restaurant => {
            const card = document.createElement('div');
            card.className = 'bg-white p-4 rounded-lg shadow-sm border border-gray-100 transition card-hover';
            
            const rating = parseFloat(restaurant.rating);
            const stars = [];
            
            for (let i = 1; i <= 5; i++) {
              if (i <= rating) {
                stars.push('<i class="fas fa-star rating-star"></i>');
              } else if (i - 0.5 <= rating) {
                stars.push('<i class="fas fa-star-half-alt rating-star"></i>');
              } else {
                stars.push('<i class="far fa-star rating-star"></i>');
              }
            }
            
            card.innerHTML = `
              <div class="flex justify-between items-start">
                <div>
                  <h4 class="font-bold text-gray-800">${restaurant.name}</h4>
                  <p class="text-sm text-gray-600">${restaurant.cuisines}</p>
                </div>
                <div class="bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded">
                  ${restaurant.similarity}% match
                </div>
              </div>
              <div class="flex items-center mt-2">
                <div class="flex mr-2">
                  ${stars.join('')}
                </div>
                <span class="text-sm text-gray-600">${restaurant.rating}/5</span>
              </div>
              <p class="text-sm text-gray-700 mt-2">
                <i class="fas fa-tag mr-1 text-gray-500"></i> Cost for two: ${restaurant.cost}
              </p>
            `;
            
            container.appendChild(card);
          });
        } else {
          // Show error message
          const errorElement = document.getElementById('recommendation-error');
          errorElement.textContent = data.error;
          errorElement.classList.remove('hidden');
          
          // Hide results sections
          document.getElementById('restaurant-info').classList.add('hidden');
          document.getElementById('recommendation-results').classList.add('hidden');
        }
      })
      .catch(error => {
        alert('An error occurred. Please try again.');
        console.error('Error:', error);
      });
    });

    // Cuisine Search Form Handler
    document.getElementById('cuisine-search-form').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const formData = new FormData(this);
      const cuisine = formData.get('cuisine');
      
      fetch('/search_by_cuisine', {
        method: 'POST',
        body: formData
      })
      .then(response => response.json())
      .then(data => {
        if (data.success) {
          // Set the cuisine type in the results header
          document.getElementById('cuisine-type').textContent = cuisine;
          
          // Show results section
          document.getElementById('cuisine-results').classList.remove('hidden');
          
          // Hide any previous error
          document.getElementById('cuisine-error').classList.add('hidden');
          
          // Fill cuisine search results
          const container = document.getElementById('cuisine-results-container');
          container.innerHTML = '';
          
          if (data.restaurants.length === 0) {
            container.innerHTML = `<p class="text-gray-600">No restaurants found for "${cuisine}".</p>`;
            return;
          }
          
          data.restaurants.forEach(restaurant => {
            const card = document.createElement('div');
            card.className = 'bg-white p-4 rounded-lg shadow-sm border border-gray-100 transition card-hover';
            
            const rating = parseFloat(restaurant.rating);
            const stars = [];
            
            for (let i = 1; i <= 5; i++) {
              if (i <= rating) {
                stars.push('<i class="fas fa-star rating-star"></i>');
              } else if (i - 0.5 <= rating) {
                stars.push('<i class="fas fa-star-half-alt rating-star"></i>');
              } else {
                stars.push('<i class="far fa-star rating-star"></i>');
              }
            }
            
            card.innerHTML = `
              <div class="flex justify-between items-start">
                <div>
                  <h4 class="font-bold text-gray-800">${restaurant.name}</h4>
                  <p class="text-sm text-gray-600">${restaurant.cuisines}</p>
                </div>
                <div class="bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded">
                  ${restaurant.city}
                </div>
              </div>
              <div class="flex items-center mt-2">
                <div class="flex mr-2">
                  ${stars.join('')}
                </div>
                <span class="text-sm text-gray-600">${restaurant.rating}/5</span>
              </div>
              <p class="text-sm text-gray-700 mt-2">
                <i class="fas fa-tag mr-1 text-gray-500"></i> Cost for two: ${restaurant.cost}
              </p>
            `;
            
            container.appendChild(card);
          });
        } else {
          // Show error message
          const errorElement = document.getElementById('cuisine-error');
          errorElement.textContent = data.error;
          errorElement.classList.remove('hidden');
          
          // Hide results section
          document.getElementById('cuisine-results').classList.add('hidden');
        }
      })
      .catch(error => {
        alert('An error occurred. Please try again.');
        console.error('Error:', error);
      });
    });
  </script>
  <!-- Update this section in your index.html -->
<div id="recommendation-results" class="hidden">
    <h3 class="text-xl font-bold text-gray-800 mb-3">Similar Restaurants</h3>
    <div id="recommendations-container" class="space-y-4">
      <!-- Overall similar restaurants will be added here by JS -->
    </div>
    
    <h3 class="text-xl font-bold text-gray-800 mt-8 mb-3">Restaurants with Similar Cuisines</h3>
    <div id="cuisine-recommendations-container" class="space-y-4">
      <!-- Cuisine-based recommendations will be added here by JS -->
    </div>
  </div>
  
  <script>
  // Update the recommendation form handler in your JavaScript
  document.getElementById('recommendation-form').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const formData = new FormData(this);
      
      fetch('/recommend', {
          method: 'POST',
          body: formData
      })
      .then(response => response.json())
      .then(data => {
          if (data.success) {
              // Show restaurant info
              const infoSection = document.getElementById('restaurant-info');
              infoSection.classList.remove('hidden');
              
              // Fill restaurant info
              document.getElementById('info-name').textContent = data.selected_restaurant.name;
              document.getElementById('info-cuisines').textContent = data.selected_restaurant.cuisines;
              document.getElementById('info-cost').textContent = data.selected_restaurant.cost;
              document.getElementById('info-location').textContent = data.selected_restaurant.location;
              document.getElementById('info-rating').textContent = data.selected_restaurant.rating + '/5';
              
              // Create rating stars
              const starsContainer = document.getElementById('info-rating-stars');
              starsContainer.innerHTML = '';
              const rating = parseFloat(data.selected_restaurant.rating);
              
              for (let i = 1; i <= 5; i++) {
                  const star = document.createElement('i');
                  if (i <= rating) {
                      star.classList.add('fas', 'fa-star', 'rating-star');
                  } else if (i - 0.5 <= rating) {
                      star.classList.add('fas', 'fa-star-half-alt', 'rating-star');
                  } else {
                      star.classList.add('far', 'fa-star', 'rating-star');
                  }
                  star.classList.add('mx-1');
                  starsContainer.appendChild(star);
              }
              
              // Show recommendations section
              const resultsSection = document.getElementById('recommendation-results');
              resultsSection.classList.remove('hidden');
              
              // Hide any previous error
              document.getElementById('recommendation-error').classList.add('hidden');
              
              // Function to create restaurant card
              function createRestaurantCard(restaurant, matchType) {
                  const card = document.createElement('div');
                  card.className = 'bg-white p-4 rounded-lg shadow-sm border border-gray-100 transition card-hover';
                  
                  const rating = parseFloat(restaurant.rating);
                  const stars = [];
                  
                  for (let i = 1; i <= 5; i++) {
                      if (i <= rating) {
                          stars.push('<i class="fas fa-star rating-star"></i>');
                      } else if (i - 0.5 <= rating) {
                          stars.push('<i class="fas fa-star-half-alt rating-star"></i>');
                      } else {
                          stars.push('<i class="far fa-star rating-star"></i>');
                      }
                  }
                  
                  const badgeColor = matchType === 'overall' ? 'blue' : 'green';
                  const badgeText = matchType === 'overall' ? 'Overall Match' : 'Cuisine Match';
                  
                  card.innerHTML = `
                      <div class="flex justify-between items-start">
                          <div>
                              <h4 class="font-bold text-gray-800">${restaurant.name}</h4>
                              <p class="text-sm text-gray-600">${restaurant.cuisines}</p>
                          </div>
                          <div class="bg-${badgeColor}-100 text-${badgeColor}-800 text-xs font-medium px-2 py-1 rounded flex items-center">
                              <span class="mr-1">${restaurant.similarity}%</span>
                              <span>${badgeText}</span>
                          </div>
                      </div>
                      <div class="flex items-center mt-2">
                          <div class="flex mr-2">
                              ${stars.join('')}
                          </div>
                          <span class="text-sm text-gray-600">${rating}/5</span>
                      </div>
                      <div class="mt-2 text-sm">
                          <p class="text-gray-700">
                              <i class="fas fa-map-marker-alt mr-1 text-gray-500"></i> ${restaurant.location}
                          </p>
                          <p class="text-gray-700">
                              <i class="fas fa-tag mr-1 text-gray-500"></i> Cost for two: ${restaurant.cost}
                          </p>
                          <div class="flex gap-2 mt-1">
                              ${restaurant.has_online_delivery === 'Yes' ? 
                                  '<span class="text-green-600"><i class="fas fa-motorcycle mr-1"></i>Delivery</span>' : ''}
                              ${restaurant.has_table_booking === 'Yes' ? 
                                  '<span class="text-blue-600"><i class="fas fa-chair mr-1"></i>Booking</span>' : ''}
                          </div>
                      </div>
                  `;
                  
                  return card;
              }
              
              // Fill overall recommendations
              const overallContainer = document.getElementById('recommendations-container');
              overallContainer.innerHTML = '';
              data.recommendations.forEach(restaurant => {
                  overallContainer.appendChild(createRestaurantCard(restaurant, 'overall'));
              });
              
              // Fill cuisine-based recommendations
              const cuisineContainer = document.getElementById('cuisine-recommendations-container');
              cuisineContainer.innerHTML = '';
              data.cuisine_based.forEach(restaurant => {
                  cuisineContainer.appendChild(createRestaurantCard(restaurant, 'cuisine'));
              });
              
          } else {
              // Show error message
              const errorElement = document.getElementById('recommendation-error');
              errorElement.textContent = data.error;
              errorElement.classList.remove('hidden');
              
              // Hide results sections
              document.getElementById('restaurant-info').classList.add('hidden');
              document.getElementById('recommendation-results').classList.add('hidden');
          }
      })
      .catch(error => {
          alert('An error occurred. Please try again.');
          console.error('Error:', error);
      });
  });
  </script>
</body>
</html>